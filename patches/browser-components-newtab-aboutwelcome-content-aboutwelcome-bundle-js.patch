diff --git a/browser/components/newtab/aboutwelcome/content/aboutwelcome.bundle.js b/browser/components/newtab/aboutwelcome/content/aboutwelcome.bundle.js
index 0825ab6aec1f97a24902c7fde29761e7e63a95cd..4a264fcbb769e6d965ef806b242566cb8f52e09c 100644
--- a/browser/components/newtab/aboutwelcome/content/aboutwelcome.bundle.js
+++ b/browser/components/newtab/aboutwelcome/content/aboutwelcome.bundle.js
@@ -100,10 +100,10 @@ __webpack_require__.r(__webpack_exports__);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
 /* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
 /* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
-/* harmony import */ var _components_MultiStageAboutWelcome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
-/* harmony import */ var _components_SimpleAboutWelcome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
-/* harmony import */ var _components_ReturnToAMO__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(12);
-/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);
+/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
+/* harmony import */ var _components_MultiStageAboutWelcome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);
+/* harmony import */ var _components_ReturnToAMO__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
+/* harmony import */ var _components_SimpleAboutWelcome__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);
 function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
 
 /* This Source Code Form is subject to the terms of the Mozilla Public
@@ -135,23 +135,21 @@ class AboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComp
   componentDidMount() {
     this.fetchFxAFlowUri(); // Record impression with performance data after allowing the page to load
 
-    const recordImpression = domState => {
-      const {
-        domComplete,
-        domInteractive
-      } = performance.getEntriesByType("navigation").pop();
-      window.AWSendEventTelemetry({
-        event: "IMPRESSION",
-        event_context: {
-          domComplete,
-          domInteractive,
-          mountStart: performance.getEntriesByName("mount").pop().startTime,
-          domState,
-          source: this.props.UTMTerm,
-          page: "about:welcome"
-        },
-        message_id: this.props.messageId
-      });
+    const recordImpression = domState => {// const { domComplete, domInteractive } = performance
+      //   .getEntriesByType("navigation")
+      //   .pop();
+      // window.AWSendEventTelemetry({
+      //   event: "IMPRESSION",
+      //   event_context: {
+      //     domComplete,
+      //     domInteractive,
+      //     mountStart: performance.getEntriesByName("mount").pop().startTime,
+      //     domState,
+      //     source: this.props.UTMTerm,
+      //     page: "about:welcome",
+      //   },
+      //   message_id: this.props.messageId,
+      // });
     };
 
     if (document.readyState === "complete") {
@@ -171,7 +169,7 @@ class AboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComp
   }
 
   handleStartBtnClick() {
-    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_5__["AboutWelcomeUtils"].handleUserAction(this.props.startButton.action);
+    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_2__["AboutWelcomeUtils"].handleUserAction(this.props.startButton.action);
     const ping = {
       event: "CLICK_BUTTON",
       event_context: {
@@ -190,7 +188,7 @@ class AboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComp
     } = this;
 
     if (props.template === "simplified") {
-      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SimpleAboutWelcome__WEBPACK_IMPORTED_MODULE_3__["SimpleAboutWelcome"], {
+      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SimpleAboutWelcome__WEBPACK_IMPORTED_MODULE_5__["SimpleAboutWelcome"], {
         metricsFlowUri: this.state.metricsFlowUri,
         message_id: props.messageId,
         utm_term: props.UTMTerm,
@@ -209,7 +207,7 @@ class AboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComp
       });
     }
 
-    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MultiStageAboutWelcome__WEBPACK_IMPORTED_MODULE_2__["MultiStageAboutWelcome"], {
+    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MultiStageAboutWelcome__WEBPACK_IMPORTED_MODULE_3__["MultiStageAboutWelcome"], {
       screens: props.screens,
       metricsFlowUri: this.state.metricsFlowUri,
       message_id: props.messageId,
@@ -219,7 +217,7 @@ class AboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComp
 
 }
 
-AboutWelcome.defaultProps = _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_5__["DEFAULT_WELCOME_CONTENT"]; // Computes messageId and UTMTerm info used in telemetry
+AboutWelcome.defaultProps = _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_2__["DEFAULT_WELCOME_CONTENT"]; // Computes messageId and UTMTerm info used in telemetry
 
 function ComputeTelemetryInfo(welcomeContent, experimentId, branchId) {
   let messageId = welcomeContent.template === "return_to_amo" ? "RTAMO_DEFAULT_WELCOME" : "DEFAULT_ABOUTWELCOME";
@@ -323,265 +321,545 @@ module.exports = ReactDOM;
 
 "use strict";
 __webpack_require__.r(__webpack_exports__);
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiStageAboutWelcome", function() { return MultiStageAboutWelcome; });
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WelcomeScreen", function() { return WelcomeScreen; });
-/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
-/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
-/* harmony import */ var _Zap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);
-/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);
-/* harmony import */ var _asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutWelcomeUtils", function() { return AboutWelcomeUtils; });
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_RTAMO_CONTENT", function() { return DEFAULT_RTAMO_CONTENT; });
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_WELCOME_CONTENT", function() { return DEFAULT_WELCOME_CONTENT; });
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
+const AboutWelcomeUtils = {
+  handleUserAction(action) {
+    window.AWSendToParent("SPECIAL_ACTION", action);
+  },
 
+  sendImpressionTelemetry(messageId, context) {
+    window.AWSendEventTelemetry({
+      event: "IMPRESSION",
+      event_context: context,
+      message_id: messageId
+    });
+  },
 
+  sendActionTelemetry(messageId, elementId) {
+    const ping = {
+      event: "CLICK_BUTTON",
+      event_context: {
+        source: elementId,
+        page: "about:welcome"
+      },
+      message_id: messageId
+    };
+    window.AWSendEventTelemetry(ping);
+  },
 
+  async fetchFlowParams(metricsFlowUri) {
+    let flowParams;
 
+    try {
+      const response = await fetch(metricsFlowUri, {
+        credentials: "omit"
+      });
 
-const MultiStageAboutWelcome = props => {
-  const [index, setScreenIndex] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    // Send impression ping when respective screen first renders
-    props.screens.forEach(screen => {
-      if (index === screen.order) {
-        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendImpressionTelemetry(`${props.message_id}_${screen.id}`);
-      }
-    }); // Remember that a new screen has loaded for browser navigation
-
-    if (index > window.history.state) {
-      window.history.pushState(index, "");
-    }
-  }, [index]);
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    // Switch to the screen tracked in state (null for initial state)
-    const handler = ({
-      state
-    }) => setScreenIndex(Number(state)); // Handle page load, e.g., going back to about:welcome from about:home
-
-
-    handler(window.history); // Watch for browser back/forward button navigation events
-
-    window.addEventListener("popstate", handler);
-    return () => window.removeEventListener("popstate", handler);
-  }, []);
-  const [flowParams, setFlowParams] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
-  const {
-    metricsFlowUri
-  } = props;
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    (async () => {
-      if (metricsFlowUri) {
-        setFlowParams(await _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].fetchFlowParams(metricsFlowUri));
+      if (response.status === 200) {
+        const {
+          deviceId,
+          flowId,
+          flowBeginTime
+        } = await response.json();
+        flowParams = {
+          deviceId,
+          flowId,
+          flowBeginTime
+        };
+      } else {
+        console.error("Non-200 response", response); // eslint-disable-line no-console
       }
-    })();
-  }, [metricsFlowUri]); // Transition to next screen, opening about:home on last screen button CTA
-
-  const handleTransition = index < props.screens.length - 1 ? () => setScreenIndex(prevState => prevState + 1) : () => _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction({
-    type: "OPEN_ABOUT_PAGE",
-    data: {
-      args: "home",
-      where: "current"
+    } catch (e) {
+      flowParams = null;
     }
-  }); // Update top sites with default sites by region when region is available
 
-  const [region, setRegion] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    (async () => {
-      setRegion(await window.AWGetRegion());
-    })();
-  }, []); // Get the active theme so the rendering code can make it selected
-  // by default.
-
-  const [activeTheme, setActiveTheme] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
-  const [initialTheme, setInitialTheme] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    (async () => {
-      let theme = await window.AWGetSelectedTheme();
-      setInitialTheme(theme);
-      setActiveTheme(theme);
-    })();
-  }, []);
-  const useImportable = props.message_id.includes("IMPORTABLE"); // Track whether we have already sent the importable sites impression telemetry
-
-  const importTelemetrySent = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);
-  const [topSites, setTopSites] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
-  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
-    (async () => {
-      let DEFAULT_SITES = await window.AWGetDefaultSites();
-      const importable = JSON.parse(await window.AWGetImportableSites());
-      const showImportable = useImportable && importable.length >= 5;
+    return flowParams;
+  },
 
-      if (!importTelemetrySent.current) {
-        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendImpressionTelemetry(`${props.message_id}_SITES`, {
-          display: showImportable ? "importable" : "static",
-          importable: importable.length
-        });
-        importTelemetrySent.current = true;
-      }
+  sendEvent(type, detail) {
+    document.dispatchEvent(new CustomEvent(`AWPage:${type}`, {
+      bubbles: true,
+      detail
+    }));
+  },
 
-      setTopSites(showImportable ? {
-        data: importable,
-        showImportable
-      } : {
-        data: DEFAULT_SITES,
-        showImportable
-      });
-    })();
-  }, [useImportable, region]);
-  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-    className: `outer-wrapper onboardingContainer`
-  }, props.screens.map(screen => {
-    return index === screen.order ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WelcomeScreen, {
-      key: screen.id,
-      id: screen.id,
-      totalNumberOfScreens: props.screens.length,
-      order: screen.order,
-      content: screen.content,
-      navigate: handleTransition,
-      topSites: topSites,
-      messageId: `${props.message_id}_${screen.id}`,
-      UTMTerm: props.utm_term,
-      flowParams: flowParams,
-      activeTheme: activeTheme,
-      initialTheme: initialTheme,
-      setActiveTheme: setActiveTheme
-    }) : null;
-  })));
-};
-class WelcomeScreen extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
-  constructor(props) {
-    super(props);
-    this.handleAction = this.handleAction.bind(this);
-    this.state = {
-      alternateContent: ""
-    };
+  hasDarkMode() {
+    return document.body.hasAttribute("lwt-newtab-brighttext");
   }
 
-  handleOpenURL(action, flowParams, UTMTerm) {
-    let {
-      type,
-      data
-    } = action;
-
-    if (type === "SHOW_FIREFOX_ACCOUNTS") {
-      let params = { ..._asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__["BASE_PARAMS"],
-        utm_term: `aboutwelcome-${UTMTerm}-screen`
-      };
-
-      if (action.addFlowParams && flowParams) {
-        params = { ...params,
-          ...flowParams
-        };
+};
+const DEFAULT_RTAMO_CONTENT = {
+  template: "return_to_amo",
+  content: {
+    header: {
+      string_id: "onboarding-welcome-header"
+    },
+    subtitle: {
+      string_id: "return-to-amo-subtitle"
+    },
+    text: {
+      string_id: "return-to-amo-addon-title"
+    },
+    primary_button: {
+      label: {
+        string_id: "return-to-amo-add-extension-label"
+      },
+      action: {
+        type: "INSTALL_ADDON_FROM_URL",
+        data: {
+          url: null,
+          telemetrySource: "rtamo"
+        }
       }
-
-      data = { ...data,
-        extraParams: params
-      };
-    } else if (type === "OPEN_URL") {
-      let url = new URL(data.args);
-      Object(_asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__["addUtmParams"])(url, `aboutwelcome-${UTMTerm}-screen`);
-
-      if (action.addFlowParams && flowParams) {
-        url.searchParams.append("device_id", flowParams.deviceId);
-        url.searchParams.append("flow_id", flowParams.flowId);
-        url.searchParams.append("flow_begin_time", flowParams.flowBeginTime);
+    },
+    startButton: {
+      label: {
+        string_id: "onboarding-not-now-button-label"
+      },
+      message_id: "RTAMO_START_BROWSING_BUTTON",
+      action: {
+        type: "OPEN_AWESOME_BAR"
       }
-
-      data = { ...data,
-        args: url.toString()
-      };
     }
-
-    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction({
-      type,
-      data
-    });
   }
+};
+const DEFAULT_WELCOME_CONTENT = {
+  template: "multistage",
+  screens: [{
+    id: "AW_SET_DEFAULT",
+    order: 0,
+    content: {
+      zap: true,
+      title: {
+        string_id: "onboarding-multistage-set-default-header"
+      },
+      subtitle: {
+        string_id: "onboarding-multistage-set-default-subtitle"
+      },
+      primary_button: {
+        label: {
+          string_id: "onboarding-multistage-set-default-primary-button-label"
+        },
+        action: {
+          navigate: true,
+          type: "SET_DEFAULT_BROWSER"
+        }
+      },
+      secondary_button: {
+        label: {
+          string_id: "onboarding-multistage-set-default-secondary-button-label"
+        },
+        action: {
+          navigate: true
+        }
+      },
+      secondary_button_top: {
+        text: {
+          string_id: "onboarding-multistage-welcome-secondary-button-text"
+        },
+        label: {
+          string_id: "onboarding-multistage-welcome-secondary-button-label"
+        },
+        action: {
+          data: {
+            entrypoint: "activity-stream-firstrun"
+          },
+          type: "SHOW_FIREFOX_ACCOUNTS",
+          addFlowParams: true
+        }
+      }
+    }
+  }, {
+    id: "AW_IMPORT_SETTINGS",
+    order: 1,
+    content: {
+      zap: true,
+      help_text: {
+        text: {
+          string_id: "onboarding-import-sites-disclaimer"
+        }
+      },
+      title: {
+        string_id: "onboarding-multistage-import-header"
+      },
+      subtitle: {
+        string_id: "onboarding-multistage-import-subtitle"
+      },
+      tiles: {
+        type: "topsites",
+        showTitles: true
+      },
+      primary_button: {
+        label: {
+          string_id: "onboarding-multistage-import-primary-button-label"
+        },
+        action: {
+          type: "SHOW_MIGRATION_WIZARD",
+          navigate: true
+        }
+      },
+      secondary_button: {
+        label: {
+          string_id: "onboarding-multistage-import-secondary-button-label"
+        },
+        action: {
+          navigate: true
+        }
+      }
+    }
+  }, {
+    id: "AW_CHOOSE_THEME",
+    order: 2,
+    content: {
+      zap: true,
+      title: {
+        string_id: "onboarding-multistage-theme-header"
+      },
+      subtitle: {
+        string_id: "onboarding-multistage-theme-subtitle"
+      },
+      tiles: {
+        type: "theme",
+        action: {
+          theme: "<event>"
+        },
+        data: [{
+          theme: "automatic",
+          label: {
+            string_id: "onboarding-multistage-theme-label-automatic"
+          },
+          tooltip: {
+            string_id: "onboarding-multistage-theme-tooltip-automatic-2"
+          },
+          description: {
+            string_id: "onboarding-multistage-theme-description-automatic-2"
+          }
+        }, {
+          theme: "light",
+          label: {
+            string_id: "onboarding-multistage-theme-label-light"
+          },
+          tooltip: {
+            string_id: "onboarding-multistage-theme-tooltip-light-2"
+          },
+          description: {
+            string_id: "onboarding-multistage-theme-description-light"
+          }
+        }, {
+          theme: "dark",
+          label: {
+            string_id: "onboarding-multistage-theme-label-dark"
+          },
+          tooltip: {
+            string_id: "onboarding-multistage-theme-tooltip-dark-2"
+          },
+          description: {
+            string_id: "onboarding-multistage-theme-description-dark"
+          }
+        }, {
+          theme: "alpenglow",
+          label: {
+            string_id: "onboarding-multistage-theme-label-alpenglow"
+          },
+          tooltip: {
+            string_id: "onboarding-multistage-theme-tooltip-alpenglow-2"
+          },
+          description: {
+            string_id: "onboarding-multistage-theme-description-alpenglow"
+          }
+        }]
+      },
+      primary_button: {
+        label: {
+          string_id: "onboarding-multistage-theme-primary-button-label"
+        },
+        action: {
+          navigate: true
+        }
+      },
+      secondary_button: {
+        label: {
+          string_id: "onboarding-multistage-theme-secondary-button-label"
+        },
+        action: {
+          theme: "automatic",
+          navigate: true
+        }
+      }
+    }
+  }]
+};
 
-  async handleAction(event) {
-    let {
-      props
-    } = this;
-    let targetContent = props.content[event.currentTarget.value] || props.content.tiles;
-
-    if (!(targetContent && targetContent.action)) {
-      return;
-    } // Send telemetry before waiting on actions
-
-
-    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, event.currentTarget.value);
-    let {
-      action
-    } = targetContent;
-
-    if (["OPEN_URL", "SHOW_FIREFOX_ACCOUNTS"].includes(action.type)) {
-      this.handleOpenURL(action, props.flowParams, props.UTMTerm);
-    } else if (action.type) {
-      _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction(action); // Wait until migration closes to complete the action
+/***/ }),
+/* 4 */
+/***/ (function(module, __webpack_exports__, __webpack_require__) {
 
-      if (action.type === "SHOW_MIGRATION_WIZARD") {
-        await window.AWWaitForMigrationClose();
-        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, "migrate_close");
-      }
-    } // Wait until we become default browser to continue rest of action.
+"use strict";
+__webpack_require__.r(__webpack_exports__);
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiStageAboutWelcome", function() { return MultiStageAboutWelcome; });
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WelcomeScreen", function() { return WelcomeScreen; });
+/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
+/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
+/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
+/* harmony import */ var _Zap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
+/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);
+/* harmony import */ var _asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
+/* This Source Code Form is subject to the terms of the Mozilla Public
+ * License, v. 2.0. If a copy of the MPL was not distributed with this file,
+ * You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 
-    if (action.waitForDefault) {
-      // Update the UI to show additional "waiting" content.
-      this.setState({
-        alternateContent: "waiting_for_default"
-      }); // Keep checking frequently as we want the UI to be responsive.
 
-      await new Promise(resolve => async function checkDefault() {
-        if (await window.AWIsDefaultBrowser()) {
-          resolve();
-        } else {
-          setTimeout(checkDefault, 100);
-        }
-      }());
-      _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, "default_browser");
-    } // A special tiles.action.theme value indicates we should use the event's value vs provided value.
 
 
-    if (action.theme) {
-      let themeToUse = action.theme === "<event>" ? event.currentTarget.value : this.props.initialTheme || action.theme;
-      this.props.setActiveTheme(themeToUse);
-      window.AWSelectTheme(themeToUse);
-    }
+const MultiStageAboutWelcome = props => {
+  const [index, setScreenIndex] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    // Send impression ping when respective screen first renders
+    props.screens.forEach(screen => {
+      if (index === screen.order) {
+        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendImpressionTelemetry(`${props.message_id}_${screen.id}`);
+      }
+    }); // Remember that a new screen has loaded for browser navigation
 
-    if (action.navigate) {
-      props.navigate();
+    if (index > window.history.state) {
+      window.history.pushState(index, "");
     }
-  }
+  }, [index]);
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    // Switch to the screen tracked in state (null for initial state)
+    const handler = ({
+      state
+    }) => setScreenIndex(Number(state)); // Handle page load, e.g., going back to about:welcome from about:home
 
-  renderSecondaryCTA(position) {
-    let targetElement = position ? `secondary_button_${position}` : `secondary_button`;
-    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-      className: position ? `secondary-cta ${position}` : "secondary-cta"
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
-      text: this.props.content[targetElement].text
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
-      text: this.props.content[targetElement].label
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
-      className: "secondary",
-      value: targetElement,
-      onClick: this.handleAction
-    })));
-  }
 
-  renderTiles() {
-    switch (this.props.content.tiles.type) {
-      case "topsites":
-        return this.props.topSites && this.props.topSites.data ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-          className: `tiles-container ${this.props.content.tiles.info ? "info" : ""}`
-        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-          className: "tiles-topsites-section",
-          name: "topsites-section",
-          id: "topsites-section",
-          "aria-labelledby": "helptext",
-          role: "region"
-        }, this.props.topSites.data.slice(0, 5).map(({
+    handler(window.history); // Watch for browser back/forward button navigation events
+
+    window.addEventListener("popstate", handler);
+    return () => window.removeEventListener("popstate", handler);
+  }, []);
+  const [flowParams, setFlowParams] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
+  const {
+    metricsFlowUri
+  } = props;
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    (async () => {
+      if (metricsFlowUri) {
+        setFlowParams(await _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].fetchFlowParams(metricsFlowUri));
+      }
+    })();
+  }, [metricsFlowUri]); // Transition to next screen, opening about:home on last screen button CTA
+
+  const handleTransition = index < props.screens.length - 1 ? () => setScreenIndex(prevState => prevState + 1) : () => _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction({
+    type: "OPEN_ABOUT_PAGE",
+    data: {
+      args: "home",
+      where: "current"
+    }
+  }); // Update top sites with default sites by region when region is available
+
+  const [region, setRegion] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    (async () => {
+      setRegion(await window.AWGetRegion());
+    })();
+  }, []); // Get the active theme so the rendering code can make it selected
+  // by default.
+
+  const [activeTheme, setActiveTheme] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
+  const [initialTheme, setInitialTheme] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    (async () => {
+      let theme = await window.AWGetSelectedTheme();
+      setInitialTheme(theme);
+      setActiveTheme(theme);
+    })();
+  }, []);
+  const useImportable = props.message_id.includes("IMPORTABLE"); // Track whether we have already sent the importable sites impression telemetry
+
+  const importTelemetrySent = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);
+  const [topSites, setTopSites] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
+  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
+    (async () => {
+      let DEFAULT_SITES = await window.AWGetDefaultSites();
+      const importable = JSON.parse(await window.AWGetImportableSites());
+      const showImportable = useImportable && importable.length >= 5;
+
+      if (!importTelemetrySent.current) {
+        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendImpressionTelemetry(`${props.message_id}_SITES`, {
+          display: showImportable ? "importable" : "static",
+          importable: importable.length
+        });
+        importTelemetrySent.current = true;
+      }
+
+      setTopSites(showImportable ? {
+        data: importable,
+        showImportable
+      } : {
+        data: DEFAULT_SITES,
+        showImportable
+      });
+    })();
+  }, [useImportable, region]);
+  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+    className: `outer-wrapper onboardingContainer`
+  }, props.screens.map(screen => {
+    return index === screen.order ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WelcomeScreen, {
+      key: screen.id,
+      id: screen.id,
+      totalNumberOfScreens: props.screens.length,
+      order: screen.order,
+      content: screen.content,
+      navigate: handleTransition,
+      topSites: topSites,
+      messageId: `${props.message_id}_${screen.id}`,
+      UTMTerm: props.utm_term,
+      flowParams: flowParams,
+      activeTheme: activeTheme,
+      initialTheme: initialTheme,
+      setActiveTheme: setActiveTheme
+    }) : null;
+  })));
+};
+class WelcomeScreen extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
+  constructor(props) {
+    super(props);
+    this.handleAction = this.handleAction.bind(this);
+    this.state = {
+      alternateContent: ""
+    };
+  }
+
+  handleOpenURL(action, flowParams, UTMTerm) {
+    let {
+      type,
+      data
+    } = action;
+
+    if (type === "SHOW_FIREFOX_ACCOUNTS") {
+      let params = { ..._asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__["BASE_PARAMS"],
+        utm_term: `aboutwelcome-${UTMTerm}-screen`
+      };
+
+      if (action.addFlowParams && flowParams) {
+        params = { ...params,
+          ...flowParams
+        };
+      }
+
+      data = { ...data,
+        extraParams: params
+      };
+    } else if (type === "OPEN_URL") {
+      let url = new URL(data.args);
+      Object(_asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_4__["addUtmParams"])(url, `aboutwelcome-${UTMTerm}-screen`);
+
+      if (action.addFlowParams && flowParams) {
+        url.searchParams.append("device_id", flowParams.deviceId);
+        url.searchParams.append("flow_id", flowParams.flowId);
+        url.searchParams.append("flow_begin_time", flowParams.flowBeginTime);
+      }
+
+      data = { ...data,
+        args: url.toString()
+      };
+    }
+
+    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction({
+      type,
+      data
+    });
+  }
+
+  async handleAction(event) {
+    let {
+      props
+    } = this;
+    let targetContent = props.content[event.currentTarget.value] || props.content.tiles;
+
+    if (!(targetContent && targetContent.action)) {
+      return;
+    } // Send telemetry before waiting on actions
+
+
+    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, event.currentTarget.value);
+    let {
+      action
+    } = targetContent;
+
+    if (["OPEN_URL", "SHOW_FIREFOX_ACCOUNTS"].includes(action.type)) {
+      this.handleOpenURL(action, props.flowParams, props.UTMTerm);
+    } else if (action.type) {
+      _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].handleUserAction(action); // Wait until migration closes to complete the action
+
+      if (action.type === "SHOW_MIGRATION_WIZARD") {
+        await window.AWWaitForMigrationClose();
+        _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, "migrate_close");
+      }
+    } // Wait until we become default browser to continue rest of action.
+
+
+    if (action.waitForDefault) {
+      // Update the UI to show additional "waiting" content.
+      this.setState({
+        alternateContent: "waiting_for_default"
+      }); // Keep checking frequently as we want the UI to be responsive.
+
+      await new Promise(resolve => async function checkDefault() {
+        if (await window.AWIsDefaultBrowser()) {
+          resolve();
+        } else {
+          setTimeout(checkDefault, 100);
+        }
+      }());
+      _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__["AboutWelcomeUtils"].sendActionTelemetry(props.messageId, "default_browser");
+    } // A special tiles.action.theme value indicates we should use the event's value vs provided value.
+
+
+    if (action.theme) {
+      let themeToUse = action.theme === "<event>" ? event.currentTarget.value : this.props.initialTheme || action.theme;
+      this.props.setActiveTheme(themeToUse);
+      window.AWSelectTheme(themeToUse);
+    }
+
+    if (action.navigate) {
+      props.navigate();
+    }
+  }
+
+  renderSecondaryCTA(position) {
+    let targetElement = position ? `secondary_button_${position}` : `secondary_button`;
+    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+      className: position ? `secondary-cta ${position}` : "secondary-cta"
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
+      text: this.props.content[targetElement].text
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
+      text: this.props.content[targetElement].label
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
+      className: "secondary",
+      value: targetElement,
+      onClick: this.handleAction
+    })));
+  }
+
+  renderTiles() {
+    switch (this.props.content.tiles.type) {
+      case "topsites":
+        return this.props.topSites && this.props.topSites.data ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+          className: `tiles-container ${this.props.content.tiles.info ? "info" : ""}`
+        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+          className: "tiles-topsites-section",
+          name: "topsites-section",
+          id: "topsites-section",
+          "aria-labelledby": "helptext",
+          role: "region"
+        }, this.props.topSites.data.slice(0, 5).map(({
           icon,
           label,
           title
@@ -726,7 +1004,7 @@ class WelcomeScreen extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureCom
 }
 
 /***/ }),
-/* 4 */
+/* 5 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
 "use strict";
@@ -789,7 +1067,7 @@ const Localized = ({
 };
 
 /***/ }),
-/* 5 */
+/* 6 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
 "use strict";
@@ -797,7 +1075,7 @@ __webpack_require__.r(__webpack_exports__);
 /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Zap", function() { return Zap; });
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
+/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
@@ -836,308 +1114,28 @@ const Zap = props => {
       return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
         text: props.text
       }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
-        className: "welcomeZap"
-      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
-        "data-l10n-name": "zap",
-        className: "zap"
-      })));
-    } else if (typeof props.text === "string") {
-      // Parse string to zap style last word of the props.text
-      let titleArray = props.text.split(" ");
-      let lastWord = `${titleArray.pop()}`;
-      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
-        className: "welcomeZap"
-      }, titleArray.join(" ").concat(" "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
-        className: "zap"
-      }, lastWord));
-    }
-  } else {
-    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
-      text: props.text
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null));
-  }
-
-  return null;
-};
-
-/***/ }),
-/* 6 */
-/***/ (function(module, __webpack_exports__, __webpack_require__) {
-
-"use strict";
-__webpack_require__.r(__webpack_exports__);
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutWelcomeUtils", function() { return AboutWelcomeUtils; });
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_RTAMO_CONTENT", function() { return DEFAULT_RTAMO_CONTENT; });
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_WELCOME_CONTENT", function() { return DEFAULT_WELCOME_CONTENT; });
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this file,
- * You can obtain one at http://mozilla.org/MPL/2.0/. */
-const AboutWelcomeUtils = {
-  handleUserAction(action) {
-    window.AWSendToParent("SPECIAL_ACTION", action);
-  },
-
-  sendImpressionTelemetry(messageId, context) {
-    window.AWSendEventTelemetry({
-      event: "IMPRESSION",
-      event_context: context,
-      message_id: messageId
-    });
-  },
-
-  sendActionTelemetry(messageId, elementId) {
-    const ping = {
-      event: "CLICK_BUTTON",
-      event_context: {
-        source: elementId,
-        page: "about:welcome"
-      },
-      message_id: messageId
-    };
-    window.AWSendEventTelemetry(ping);
-  },
-
-  async fetchFlowParams(metricsFlowUri) {
-    let flowParams;
-
-    try {
-      const response = await fetch(metricsFlowUri, {
-        credentials: "omit"
-      });
-
-      if (response.status === 200) {
-        const {
-          deviceId,
-          flowId,
-          flowBeginTime
-        } = await response.json();
-        flowParams = {
-          deviceId,
-          flowId,
-          flowBeginTime
-        };
-      } else {
-        console.error("Non-200 response", response); // eslint-disable-line no-console
-      }
-    } catch (e) {
-      flowParams = null;
-    }
-
-    return flowParams;
-  },
-
-  sendEvent(type, detail) {
-    document.dispatchEvent(new CustomEvent(`AWPage:${type}`, {
-      bubbles: true,
-      detail
-    }));
-  },
-
-  hasDarkMode() {
-    return document.body.hasAttribute("lwt-newtab-brighttext");
-  }
-
-};
-const DEFAULT_RTAMO_CONTENT = {
-  template: "return_to_amo",
-  content: {
-    header: {
-      string_id: "onboarding-welcome-header"
-    },
-    subtitle: {
-      string_id: "return-to-amo-subtitle"
-    },
-    text: {
-      string_id: "return-to-amo-addon-title"
-    },
-    primary_button: {
-      label: {
-        string_id: "return-to-amo-add-extension-label"
-      },
-      action: {
-        type: "INSTALL_ADDON_FROM_URL",
-        data: {
-          url: null,
-          telemetrySource: "rtamo"
-        }
-      }
-    },
-    startButton: {
-      label: {
-        string_id: "onboarding-not-now-button-label"
-      },
-      message_id: "RTAMO_START_BROWSING_BUTTON",
-      action: {
-        type: "OPEN_AWESOME_BAR"
-      }
-    }
-  }
-};
-const DEFAULT_WELCOME_CONTENT = {
-  template: "multistage",
-  screens: [{
-    id: "AW_SET_DEFAULT",
-    order: 0,
-    content: {
-      zap: true,
-      title: {
-        string_id: "onboarding-multistage-set-default-header"
-      },
-      subtitle: {
-        string_id: "onboarding-multistage-set-default-subtitle"
-      },
-      primary_button: {
-        label: {
-          string_id: "onboarding-multistage-set-default-primary-button-label"
-        },
-        action: {
-          navigate: true,
-          type: "SET_DEFAULT_BROWSER"
-        }
-      },
-      secondary_button: {
-        label: {
-          string_id: "onboarding-multistage-set-default-secondary-button-label"
-        },
-        action: {
-          navigate: true
-        }
-      },
-      secondary_button_top: {
-        text: {
-          string_id: "onboarding-multistage-welcome-secondary-button-text"
-        },
-        label: {
-          string_id: "onboarding-multistage-welcome-secondary-button-label"
-        },
-        action: {
-          data: {
-            entrypoint: "activity-stream-firstrun"
-          },
-          type: "SHOW_FIREFOX_ACCOUNTS",
-          addFlowParams: true
-        }
-      }
-    }
-  }, {
-    id: "AW_IMPORT_SETTINGS",
-    order: 1,
-    content: {
-      zap: true,
-      help_text: {
-        text: {
-          string_id: "onboarding-import-sites-disclaimer"
-        }
-      },
-      title: {
-        string_id: "onboarding-multistage-import-header"
-      },
-      subtitle: {
-        string_id: "onboarding-multistage-import-subtitle"
-      },
-      tiles: {
-        type: "topsites",
-        showTitles: true
-      },
-      primary_button: {
-        label: {
-          string_id: "onboarding-multistage-import-primary-button-label"
-        },
-        action: {
-          type: "SHOW_MIGRATION_WIZARD",
-          navigate: true
-        }
-      },
-      secondary_button: {
-        label: {
-          string_id: "onboarding-multistage-import-secondary-button-label"
-        },
-        action: {
-          navigate: true
-        }
-      }
-    }
-  }, {
-    id: "AW_CHOOSE_THEME",
-    order: 2,
-    content: {
-      zap: true,
-      title: {
-        string_id: "onboarding-multistage-theme-header"
-      },
-      subtitle: {
-        string_id: "onboarding-multistage-theme-subtitle"
-      },
-      tiles: {
-        type: "theme",
-        action: {
-          theme: "<event>"
-        },
-        data: [{
-          theme: "automatic",
-          label: {
-            string_id: "onboarding-multistage-theme-label-automatic"
-          },
-          tooltip: {
-            string_id: "onboarding-multistage-theme-tooltip-automatic-2"
-          },
-          description: {
-            string_id: "onboarding-multistage-theme-description-automatic-2"
-          }
-        }, {
-          theme: "light",
-          label: {
-            string_id: "onboarding-multistage-theme-label-light"
-          },
-          tooltip: {
-            string_id: "onboarding-multistage-theme-tooltip-light-2"
-          },
-          description: {
-            string_id: "onboarding-multistage-theme-description-light"
-          }
-        }, {
-          theme: "dark",
-          label: {
-            string_id: "onboarding-multistage-theme-label-dark"
-          },
-          tooltip: {
-            string_id: "onboarding-multistage-theme-tooltip-dark-2"
-          },
-          description: {
-            string_id: "onboarding-multistage-theme-description-dark"
-          }
-        }, {
-          theme: "alpenglow",
-          label: {
-            string_id: "onboarding-multistage-theme-label-alpenglow"
-          },
-          tooltip: {
-            string_id: "onboarding-multistage-theme-tooltip-alpenglow-2"
-          },
-          description: {
-            string_id: "onboarding-multistage-theme-description-alpenglow"
-          }
-        }]
-      },
-      primary_button: {
-        label: {
-          string_id: "onboarding-multistage-theme-primary-button-label"
-        },
-        action: {
-          navigate: true
-        }
-      },
-      secondary_button: {
-        label: {
-          string_id: "onboarding-multistage-theme-secondary-button-label"
-        },
-        action: {
-          theme: "automatic",
-          navigate: true
-        }
-      }
+        className: "welcomeZap"
+      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
+        "data-l10n-name": "zap",
+        className: "zap"
+      })));
+    } else if (typeof props.text === "string") {
+      // Parse string to zap style last word of the props.text
+      let titleArray = props.text.split(" ");
+      let lastWord = `${titleArray.pop()}`;
+      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
+        className: "welcomeZap"
+      }, titleArray.join(" ").concat(" "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
+        className: "zap"
+      }, lastWord));
     }
-  }]
+  } else {
+    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_1__["Localized"], {
+      text: props.text
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null));
+  }
+
+  return null;
 };
 
 /***/ }),
@@ -1185,14 +1183,130 @@ function addUtmParams(url, utmTerm) {
 /* 8 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
+"use strict";
+__webpack_require__.r(__webpack_exports__);
+/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReturnToAMO", function() { return ReturnToAMO; });
+/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
+/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
+/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
+/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);
+/* This Source Code Form is subject to the terms of the Mozilla Public
+ * License, v. 2.0. If a copy of the MPL was not distributed with this file,
+ * You can obtain one at http://mozilla.org/MPL/2.0/. */
+
+
+
+class ReturnToAMO extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
+  constructor(props) {
+    super(props);
+    this.onClickAddExtension = this.onClickAddExtension.bind(this);
+    this.handleStartBtnClick = this.handleStartBtnClick.bind(this);
+  }
+
+  onClickAddExtension() {
+    var _content$primary_butt, _content$primary_butt2;
+
+    const {
+      content,
+      message_id,
+      url
+    } = this.props;
+
+    if (!(content !== null && content !== void 0 && (_content$primary_butt = content.primary_button) !== null && _content$primary_butt !== void 0 && (_content$primary_butt2 = _content$primary_butt.action) !== null && _content$primary_butt2 !== void 0 && _content$primary_butt2.data)) {
+      return;
+    } // Set add-on url in action.data.url property from JSON
+
+
+    content.primary_button.action.data.url = url;
+    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["AboutWelcomeUtils"].handleUserAction(content.primary_button.action);
+    const ping = {
+      event: "INSTALL",
+      event_context: {
+        source: "ADD_EXTENSION_BUTTON",
+        page: "about:welcome"
+      },
+      message_id
+    };
+    window.AWSendEventTelemetry(ping);
+  }
+
+  handleStartBtnClick() {
+    const {
+      content,
+      message_id
+    } = this.props;
+    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["AboutWelcomeUtils"].handleUserAction(content.startButton.action);
+    const ping = {
+      event: "CLICK_BUTTON",
+      event_context: {
+        source: content.startButton.message_id,
+        page: "about:welcome"
+      },
+      message_id
+    };
+    window.AWSendEventTelemetry(ping);
+  }
+
+  render() {
+    const {
+      content
+    } = this.props;
+
+    if (!content) {
+      return null;
+    } // For experiments, when needed below rendered UI allows settings hard coded strings
+    // directly inside JSON except for ReturnToAMOText which picks add-on name and icon from fluent string
+
+
+    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+      className: "outer-wrapper onboardingContainer"
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
+      className: "screen"
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+      className: "brand-logo"
+    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
+      className: "welcome-text"
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
+      text: content.subtitle
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
+      text: content.text
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
+      "data-l10n-args": this.props.name ? JSON.stringify({
+        "addon-name": this.props.name
+      }) : null
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
+      "data-l10n-name": "icon",
+      src: this.props.iconURL,
+      role: "presentation",
+      alt: ""
+    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
+      text: content.primary_button.label
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
+      onClick: this.onClickAddExtension,
+      className: "primary"
+    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
+      text: content.startButton.label
+    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
+      onClick: this.handleStartBtnClick,
+      className: "secondary"
+    })))));
+  }
+
+}
+ReturnToAMO.defaultProps = _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["DEFAULT_RTAMO_CONTENT"];
+
+/***/ }),
+/* 9 */
+/***/ (function(module, __webpack_exports__, __webpack_require__) {
+
 "use strict";
 __webpack_require__.r(__webpack_exports__);
 /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleAboutWelcome", function() { return SimpleAboutWelcome; });
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _HeroText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
-/* harmony import */ var _FxCards__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
-/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);
+/* harmony import */ var _HeroText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
+/* harmony import */ var _FxCards__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
+/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
@@ -1228,7 +1342,7 @@ class SimpleAboutWelcome extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Pu
 }
 
 /***/ }),
-/* 9 */
+/* 10 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
 "use strict";
@@ -1236,7 +1350,7 @@ __webpack_require__.r(__webpack_exports__);
 /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeroText", function() { return HeroText; });
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
+/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
@@ -1255,7 +1369,7 @@ const HeroText = props => {
 };
 
 /***/ }),
-/* 10 */
+/* 11 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
 "use strict";
@@ -1264,8 +1378,8 @@ __webpack_require__.r(__webpack_exports__);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
 /* harmony import */ var _asrouter_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
-/* harmony import */ var _asrouter_templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
-/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);
+/* harmony import */ var _asrouter_templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);
+/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);
 function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
 
 /* This Source Code Form is subject to the terms of the Mozilla Public
@@ -1351,7 +1465,7 @@ class FxCards extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent
 }
 
 /***/ }),
-/* 11 */
+/* 12 */
 /***/ (function(module, __webpack_exports__, __webpack_require__) {
 
 "use strict";
@@ -1359,7 +1473,7 @@ __webpack_require__.r(__webpack_exports__);
 /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingCard", function() { return OnboardingCard; });
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
 /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _aboutwelcome_components_MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
+/* harmony import */ var _aboutwelcome_components_MSLocalized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
 /* This Source Code Form is subject to the terms of the Mozilla Public
  * License, v. 2.0. If a copy of the MPL was not distributed with this file,
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
@@ -1415,121 +1529,5 @@ class OnboardingCard extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureCo
 
 }
 
-/***/ }),
-/* 12 */
-/***/ (function(module, __webpack_exports__, __webpack_require__) {
-
-"use strict";
-__webpack_require__.r(__webpack_exports__);
-/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReturnToAMO", function() { return ReturnToAMO; });
-/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
-/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
-/* harmony import */ var _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
-/* harmony import */ var _MSLocalized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this file,
- * You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-
-
-class ReturnToAMO extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
-  constructor(props) {
-    super(props);
-    this.onClickAddExtension = this.onClickAddExtension.bind(this);
-    this.handleStartBtnClick = this.handleStartBtnClick.bind(this);
-  }
-
-  onClickAddExtension() {
-    var _content$primary_butt, _content$primary_butt2;
-
-    const {
-      content,
-      message_id,
-      url
-    } = this.props;
-
-    if (!(content !== null && content !== void 0 && (_content$primary_butt = content.primary_button) !== null && _content$primary_butt !== void 0 && (_content$primary_butt2 = _content$primary_butt.action) !== null && _content$primary_butt2 !== void 0 && _content$primary_butt2.data)) {
-      return;
-    } // Set add-on url in action.data.url property from JSON
-
-
-    content.primary_button.action.data.url = url;
-    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["AboutWelcomeUtils"].handleUserAction(content.primary_button.action);
-    const ping = {
-      event: "INSTALL",
-      event_context: {
-        source: "ADD_EXTENSION_BUTTON",
-        page: "about:welcome"
-      },
-      message_id
-    };
-    window.AWSendEventTelemetry(ping);
-  }
-
-  handleStartBtnClick() {
-    const {
-      content,
-      message_id
-    } = this.props;
-    _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["AboutWelcomeUtils"].handleUserAction(content.startButton.action);
-    const ping = {
-      event: "CLICK_BUTTON",
-      event_context: {
-        source: content.startButton.message_id,
-        page: "about:welcome"
-      },
-      message_id
-    };
-    window.AWSendEventTelemetry(ping);
-  }
-
-  render() {
-    const {
-      content
-    } = this.props;
-
-    if (!content) {
-      return null;
-    } // For experiments, when needed below rendered UI allows settings hard coded strings
-    // directly inside JSON except for ReturnToAMOText which picks add-on name and icon from fluent string
-
-
-    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-      className: "outer-wrapper onboardingContainer"
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
-      className: "screen"
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-      className: "brand-logo"
-    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
-      className: "welcome-text"
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
-      text: content.subtitle
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
-      text: content.text
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
-      "data-l10n-args": this.props.name ? JSON.stringify({
-        "addon-name": this.props.name
-      }) : null
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
-      "data-l10n-name": "icon",
-      src: this.props.iconURL,
-      role: "presentation",
-      alt: ""
-    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
-      text: content.primary_button.label
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
-      onClick: this.onClickAddExtension,
-      className: "primary"
-    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MSLocalized__WEBPACK_IMPORTED_MODULE_2__["Localized"], {
-      text: content.startButton.label
-    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
-      onClick: this.handleStartBtnClick,
-      className: "secondary"
-    })))));
-  }
-
-}
-ReturnToAMO.defaultProps = _lib_aboutwelcome_utils__WEBPACK_IMPORTED_MODULE_1__["DEFAULT_RTAMO_CONTENT"];
-
 /***/ })
 /******/ ]);
\ No newline at end of file
